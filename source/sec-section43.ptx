<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="sec-section43" xmlns:xi="http://www.w3.org/2001/XInclude">
  <title>Metal Detector using Hall Sensor Interface </title>
<subsection xml:id="subsec-Introduction-metal">
  <title>Introduction</title>
  <image source="/images/metal_detector.jpg" width="40%"/>
  <p>
    A metal detector is an instrument that detects the presence of metal. They are a handheld unit with a sensor probe in it, which can be swept over the ground or other objects. A metal detector consists of an oscillator , which produces an alternating current  when the current passes through a coil which produces an alternating magnetic field. If the sensor is closer to a piece of metal, it prompts the end user by a sound tone. Table 1, explains the components required for this experiment. It is quite different and easy experiment because the interface is designed to connect the components easily.It can be used in defence to find any guns and other metal items.
  </p>
</subsection>
<subsection xml:id="subsec-Components-required-metal">
  <title>Components required</title>
  <table>
    <title>components required for the experiment</title>
    <tabular left="minor" right="minor" top="minor" bottom="minor">
      <row>
        <cell><term>S. No</term></cell>
        <cell><term>Name</term></cell>
        <cell><term>QTY</term></cell>
        <cell><term>Purpose</term></cell>
      </row>
      <row>
        <cell>1</cell>
        <cell>Arduino Interface</cell>
        <cell>1</cell>
        <cell>A complete prototype to interface the Arduino with other type of sensor interface.</cell>
      </row>
      <row>
        <cell>2</cell>
        <cell>Hall interface </cell>
        <cell>1</cell>
        <cell>Will detect the presence of the metal </cell>
      </row>
      <row>
        <cell>3</cell>
        <cell>Jumper Wire</cell>
        <cell>1</cell>
        <cell>Jumper wires are used to connect the components with Arduino interface.</cell>
      </row>
    </tabular>
  </table>
  <subsubsection xml:id="subsubsec-Arduino-Interface">
    <title>Arduino Interface</title>
    <p>
      Arduino Uno board is mounted in a sheet metal covering. The insulated terminations are provided for DC power supply and Digital I/O pins. Patch cord is used to interconnect the interfaces. 12V DC adapter is used to power up the interface. 
    </p>
  </subsubsection>
  <subsubsection xml:id="subsubsec-Hall-sensor-interface">
    <title>Hall sensor interface </title>
    <p>
      Hall sensor interface is a single interface module contains sensor pin, buzzer pin and power pins. Sensor pin connected to D8th of the Arduino interface and out pin of the hall sensor is connected to D9th. Power supply pins are 5V and GND that is connected to the respective pins in Arduino interface.
    </p>
  </subsubsection>
</subsection>
<subsection xml:id="subsec-Experimental-Approach-metal">
  <title>Experimental Approach</title>
  <figure>
    <image source="/images/metal_experiment.JPG" width="40%"/>
    <caption>Circuit diagram for metal detector</caption>
  </figure>
  <term>Connection Process</term>
  <ol>  
    <li>
      <p>
        The out pin of the hall sensor interface is connected to D8th pin of the Arduino interface. 
      </p>
    </li>
    <li>
      <p>
        The in pin of the hall sensor interface is connected to D9th pin of the Arduino interface.
      </p>
    </li>
    <li>
      <p>
        Connecting 5V of Arduino interface to 5V of hall sensor interface
      </p>
    </li>
    <li>
      <p>
        Connecting GND of Arduino interface to GND of hall sensor interface
      </p>
    </li>
  </ol>
  <term>Pin connection </term>
  <table>
    <tabular left="minor" right="minor" top="major" bottom="major">
      <row>
        <cell><term>Arduino Pins</term></cell>
        <cell><term>Component Pins</term></cell>
      </row>
      <row>
        <cell>D8</cell>
        <cell>Sensor pin (Hall)</cell>
      </row>
      <row>
        <cell>5V</cell>
        <cell>VCC(+)(Hall)</cell>
      </row>
      <row>
        <cell>GND</cell>
        <cell>GND(-)(Hall)</cell>
      </row>
      <row>
        <cell>D9</cell>
        <cell>+ (Buzzer)</cell>
      </row>
    </tabular>
  </table>
</subsection>
<subsection xml:id="subsec-Code-metal">
  <title>Code</title>
  <term>Source Code</term>
  <program> 
    int hallSensorPin = 8;//declaration of sensor pin
int buzzer  =  7;//declaration of buzzer
int state = 0;
void setup() {
Serial.begin(9600);//initialize serial communication
Serial.println("Inside setup");
pinMode(buzzer, OUTPUT);//mode declaration for buzzer
pinMode(hallSensorPin, INPUT); mode declaration for sensor
Serial.println("Setup completed");
}
void loop() {
state = digitalRead(hallSensorPin);//read the data
if (state == LOW) {
Serial.println("There is a magnet");// print the statement
digitalWrite(buzzer, HIGH);//trigger the buzzer
}
else {
digitalWrite(buzzer, LOW);
Serial.println("There is no magnet"); 
}
}
    </program>
    <term>Code Explanation</term>
    <ol> 
      <li>
        <p>
          Declare the variables of hall sensor and buzzer.
        </p>
      </li>
      <li>
        <p>
          In void setup () declaring the output pins Buzzer pin using PinMode function.
        </p>
      </li>
      <li>
        <p>
          Be sure which of the following acts as input and output pin. For example, pinMode(9, INPUT);
        </p>
      </li>
      <li>
        <p>
          Declaring the buzzer pin as Output using PinMode function. 
        </p>
      </li>
      <li>
        <p>
          In void loop function, pulsein () will measure the time period for a repeated signal. 
        </p>
      </li>
      <li>
        <p>
          Using a simple if statement, when the magnet is drawn near the sensor the pulse value will be set to high
        </p>
      </li>
      <li>
        <p>
          When the pulse value is set to high the buzzer will be triggered.  
        </p>
      </li>
      <li>
        <p>
          With the delay of 3 micro seconds the buzzer tone will stopped automatically.
        </p>
      </li>
    </ol>
</subsection>
<subsection xml:id="subsec-Experimental-Result-metal">
  <title>Experimental Result </title>
  <figure>
    <image source="/images/metal_output.JPG" width="40%"/>
    <caption>wiring diagram of the metal detector </caption>
  </figure>
  <p>
    When the magnet is drawn near the sensor the buzzer rings at high frequency to indicate presence of the metal.
  </p>
</subsection>
</section>